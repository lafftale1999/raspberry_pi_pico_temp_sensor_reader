\doxysubsection{Internal functions }
\hypertarget{group___b_m280__internal__functions}{}\label{group___b_m280__internal__functions}\index{Internal functions@{Internal functions}}


All internal functions abstracted from the external interface.  


\doxysubsubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{group___b_m280__internal__functions_ga5dffb47e87c28836b09d9e2888238311}{bm280\+\_\+parse\+\_\+json}} (const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Parses the current sensor readings into a JSON-\/formatted string. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___b_m280__internal__functions_ga051504a28b724cf5212c3cbc0e50d40c}{bm280\+\_\+calibration}} (const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Reads and sets calibration parameters from the sensor. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___b_m280__internal__functions_ga46c1804fc5ac171edc97640e2e93f082}{bm280\+\_\+convert\+\_\+pressure}} (const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Converts the raw pressure value to readable format using calibration parameters. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___b_m280__internal__functions_ga1276ea9385d464602ff47ba39dfd22b5}{bm280\+\_\+convert\+\_\+temperature}} (const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Converts the raw temperature value to readable format and calculates t\+\_\+fine. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___b_m280__internal__functions_gad7a917b102abbac1ece5f77e0e1f078b}{bm280\+\_\+convert\+\_\+humidity}} (const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Converts the raw humidity value to readable format using calibration data. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___b_m280__internal__functions_gadeb93dfa0ac36dcaff5d4e0f7f2e420e}{bm280\+\_\+convert\+\_\+measurements}} (const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}} handle)
\begin{DoxyCompactList}\small\item\em Converts all raw sensor values (temperature, pressure, humidity). \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
All internal functions abstracted from the external interface. 



\label{doc-func-members}
\Hypertarget{group___b_m280__internal__functions_doc-func-members}
\doxysubsubsection{Function Documentation}
\Hypertarget{group___b_m280__internal__functions_ga051504a28b724cf5212c3cbc0e50d40c}\index{Internal functions@{Internal functions}!bm280\_calibration@{bm280\_calibration}}
\index{bm280\_calibration@{bm280\_calibration}!Internal functions@{Internal functions}}
\doxysubsubsubsection{\texorpdfstring{bm280\_calibration()}{bm280\_calibration()}}
{\footnotesize\ttfamily \label{group___b_m280__internal__functions_ga051504a28b724cf5212c3cbc0e50d40c} 
int bm280\+\_\+calibration (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}}}]{handle}{}\end{DoxyParamCaption})}



Reads and sets calibration parameters from the sensor. 


\begin{DoxyParams}{Parameters}
{\em handle} & BM280 device handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 on failure. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{bm280__internal_8c_source_l00054}{54}} of file \mbox{\hyperlink{bm280__internal_8c_source}{bm280\+\_\+internal.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \{}
\DoxyCodeLine{00056\ \ \ \ \ }
\DoxyCodeLine{00057\ \ \ \ \ uint8\_t\ buf[\mbox{\hyperlink{group___b_m280__calibration__registers_ga038b5386b05f885a4028fd418697549a}{BM280\_AMOUNT\_CALIB\_PARAMS}}]\ =\ \{0\};}
\DoxyCodeLine{00058\ \ \ \ \ }
\DoxyCodeLine{00059\ \ \ \ \ uint8\_t\ t\_p\_param\_start\ =\ \mbox{\hyperlink{group___b_m280__calibration__registers_gab1f25d19f6c866ecce875c8c7ab2433d}{BM280\_TEMP\_CALIB\_PARAM\_START}};}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ read\ temperature\ and\ pressure\ calibration\ values}}
\DoxyCodeLine{00061\ \ \ \ \ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{if}\ (i2c\_read\_data(\&handle-\/>\mbox{\hyperlink{structbm280__handle__internal_aa84cb4f0bec846cde6a18ebc423f593d}{i2c\_address}},\ \&t\_p\_param\_start,\ buf,\ \mbox{\hyperlink{group___b_m280__calibration__registers_ga003a8faa075d6a5683ef39f962ed502f}{BM280\_TEMP\_PARAMS\_LEN}}\ +\ \mbox{\hyperlink{group___b_m280__calibration__registers_ga415f6e7cf8d78c3ddeda6f0d1a923a26}{BM280\_PRESS\_PARAMS\_LEN}})\ !=\ PICO\_W\_OK)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__bm280__debug_ga632860a48f772ec4ca1d6ccbea606b33}{BM280\_LOG}}(\textcolor{stringliteral}{"{}Unable\ to\ read\ temperature\ and\ pressure\ calibration\ values\(\backslash\)n"{}});}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ }
\DoxyCodeLine{00067\ \ \ \ \ uint8\_t\ hum\_param[2]\ =\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___b_m280__calibration__registers_ga9c5e4a1116225de64a02e93332dcac35}{BM280\_HUM\_CALIB\_FIRST}},}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___b_m280__calibration__registers_ga73b3c92cf72ed766bc42e6afcf7abed4}{BM280\_HUM\_CALIB\_CONTINUE}}}
\DoxyCodeLine{00070\ \ \ \ \ \};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ read\ humidity\ calibration\ values}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{if}\ (i2c\_read\_data(\&handle-\/>\mbox{\hyperlink{structbm280__handle__internal_aa84cb4f0bec846cde6a18ebc423f593d}{i2c\_address}},\ \&hum\_param[0],\ \&buf[24],\ \mbox{\hyperlink{group___b_m280__calibration__registers_ga8090df6e039c5a1acbcc952a46000495}{BM280\_HUM\_CALIB\_FIRST\_LEN}})\ !=\ PICO\_W\_OK\ ||}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ i2c\_read\_data(\&handle-\/>\mbox{\hyperlink{structbm280__handle__internal_aa84cb4f0bec846cde6a18ebc423f593d}{i2c\_address}},\ \&hum\_param[1],\ \&buf[25],\ \mbox{\hyperlink{group___b_m280__calibration__registers_ga061e58b0971ef0a8fb87f915f96850b7}{BM280\_HUM\_CALIB\_CONTINUE\_LEN}})\ !=\ PICO\_W\_OK)\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__bm280__debug_ga632860a48f772ec4ca1d6ccbea606b33}{BM280\_LOG}}(\textcolor{stringliteral}{"{}Unable\ to\ read\ humidity\ calibration\ values\(\backslash\)n"{}});}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00077\ \ \ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//\ save\ values}}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{//\ temperatures}}
\DoxyCodeLine{00081\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_a18bbe2d56938e772556029671101cce9}{dig\_t1}}\ =\ (uint16\_t)(buf[1]\ <<\ 8)\ |\ buf[0];}
\DoxyCodeLine{00082\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_a3127af8c692c7cdcca6c1122c0e9c9b3}{dig\_t2}}\ =\ (int16\_t)(buf[3]\ <<\ 8)\ |\ buf[2];}
\DoxyCodeLine{00083\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_af5e669080a46ca1971d8cc75d45291cc}{dig\_t3}}\ =\ (int16\_t)(buf[5]\ <<\ 8)\ |\ buf[4];}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ pressure}}
\DoxyCodeLine{00086\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_abc8a4b73df0d8389d9a5825f21292377}{dig\_p1}}\ =\ (uint16\_t)(buf[7]\ <<\ 8)\ |\ buf[6];}
\DoxyCodeLine{00087\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a5da51319960f215e4fa84f4439d07f5d}{dig\_p2}}\ =\ (int16\_t)(buf[9]\ <<\ 8)\ |\ buf[8];}
\DoxyCodeLine{00088\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a170ac1887fab11d43b0a4bfb2b9a13d3}{dig\_p3}}\ =\ (int16\_t)(buf[11]\ <<\ 8)\ |\ buf[10];}
\DoxyCodeLine{00089\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a96c06ac1add12c637c95df7441a072d2}{dig\_p4}}\ =\ (int16\_t)(buf[13]\ <<\ 8)\ |\ buf[12];}
\DoxyCodeLine{00090\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_ac649068cf157f9c44975286e79e6eead}{dig\_p5}}\ =\ (int16\_t)(buf[15]\ <<\ 8)\ |\ buf[14];}
\DoxyCodeLine{00091\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a35dd3db0eb9c14cdfbaf3aa16177df87}{dig\_p6}}\ =\ (int16\_t)(buf[17]\ <<\ 8)\ |\ buf[16];}
\DoxyCodeLine{00092\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_ad05ca9306f41d05781fc7e1536035bd6}{dig\_p7}}\ =\ (int16\_t)(buf[19]\ <<\ 8)\ |\ buf[18];}
\DoxyCodeLine{00093\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_aacf4b738b3b433b5d4ebdc68637366a5}{dig\_p8}}\ =\ (int16\_t)(buf[21]\ <<\ 8)\ |\ buf[20];}
\DoxyCodeLine{00094\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_af95c62e8e4d9f8f94749a78881dc3a7a}{dig\_p9}}\ =\ (int16\_t)(buf[23]\ <<\ 8)\ |\ buf[22];}
\DoxyCodeLine{00095\ \ \ \ \ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ humidity}}
\DoxyCodeLine{00097\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a784a62fb63e2f1d90bc566639a4fe7f0}{dig\_h1}}\ =\ buf[24];}
\DoxyCodeLine{00098\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a175014b8b4378e3e00b69c712dbb78e7}{dig\_h2}}\ =\ (int16\_t)(buf[26]\ <<\ 8)\ |\ buf[25];}
\DoxyCodeLine{00099\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a0ea74a31588cffa0dd86ccbb55d47c24}{dig\_h3}}\ =\ buf[27];}
\DoxyCodeLine{00100\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a5b72942200cbea5b8ffcbe94a24de570}{dig\_h4}}\ =\ (int16\_t)((buf[28]\ <<\ 4)\ |\ (buf[29]\ \&\ 0x0F));}
\DoxyCodeLine{00101\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a5ee7583d8bc9f4c7c6ea59340f23060e}{dig\_h5}}\ =\ (int16\_t)((buf[30]\ <<\ 4)\ |\ (buf[29]\ >>\ 4));}
\DoxyCodeLine{00102\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_ae6eb4f13c825058511df399f703e806b}{dig\_h6}}\ =\ buf[32];}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00105\ \}}

\end{DoxyCode}
\Hypertarget{group___b_m280__internal__functions_gad7a917b102abbac1ece5f77e0e1f078b}\index{Internal functions@{Internal functions}!bm280\_convert\_humidity@{bm280\_convert\_humidity}}
\index{bm280\_convert\_humidity@{bm280\_convert\_humidity}!Internal functions@{Internal functions}}
\doxysubsubsubsection{\texorpdfstring{bm280\_convert\_humidity()}{bm280\_convert\_humidity()}}
{\footnotesize\ttfamily \label{group___b_m280__internal__functions_gad7a917b102abbac1ece5f77e0e1f078b} 
int bm280\+\_\+convert\+\_\+humidity (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}}}]{handle}{}\end{DoxyParamCaption})}



Converts the raw humidity value to readable format using calibration data. 

Function provided by Bosch Sensortec in documentation for converting sensorvalues \href{https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme280-ds002.pdf}{\texttt{https\+://www.\+bosch-\/sensortec.\+com/media/boschsensortec/downloads/datasheets/bst-\/bme280-\/ds002.\+pdf}}


\begin{DoxyParams}{Parameters}
{\em handle} & BM280 device handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{bm280__internal_8c_source_l00171}{171}} of file \mbox{\hyperlink{bm280__internal_8c_source}{bm280\+\_\+internal.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00172\ \{}
\DoxyCodeLine{00173\ \ \ \ \ int32\_t\ v\_x1;}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ v\_x1\ =\ (handle-\/>\mbox{\hyperlink{structbm280__handle__internal_adc1997c5d1e8baf2e65f34c37d1e67b6}{t\_fine}}\ -\/\ ((int32\_t)76800));}
\DoxyCodeLine{00176\ \ \ \ \ v\_x1\ =\ (((((handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ad25c2c48b187157fd2675b8c2262dd31}{hum\_raw}}\ <<\ 14)\ -\/\ (((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a5b72942200cbea5b8ffcbe94a24de570}{dig\_h4}})\ <<\ 20)\ -\/\ (((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a5ee7583d8bc9f4c7c6ea59340f23060e}{dig\_h5}})\ *\ v\_x1))\ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ +\ ((int32\_t)16384))\ >>\ 15)\ *\ (((((((v\_x1\ *\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_ae6eb4f13c825058511df399f703e806b}{dig\_h6}}))\ >>\ 10)\ *\ (((v\_x1\ *\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a0ea74a31588cffa0dd86ccbb55d47c24}{dig\_h3}}))\ >>\ 11)}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ +\ ((int32\_t)32768)))\ >>\ 10)\ +\ ((int32\_t)2097152))\ *\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a175014b8b4378e3e00b69c712dbb78e7}{dig\_h2}})\ +\ 8192)\ >>\ 14));}
\DoxyCodeLine{00179\ \ \ \ \ v\_x1\ =\ (v\_x1\ -\/\ (((((v\_x1\ >>\ 15)\ *\ (v\_x1\ >>\ 15))\ >>\ 7)\ *\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a6efac1cf135a67b64f19647070273035}{hum}}.\mbox{\hyperlink{structbm280__handle__internal_a784a62fb63e2f1d90bc566639a4fe7f0}{dig\_h1}}))\ >>\ 4));}
\DoxyCodeLine{00180\ \ \ \ \ v\_x1\ =\ (v\_x1\ <\ 0\ ?\ 0\ :\ v\_x1);}
\DoxyCodeLine{00181\ \ \ \ \ v\_x1\ =\ (v\_x1\ >\ 419430400\ ?\ 419430400\ :\ v\_x1);}
\DoxyCodeLine{00182\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a6504ed55a0169c9e231169e9601b642a}{humidity}}\ =\ (uint32\_t)(v\_x1\ >>\ 12);}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00185\ \}}

\end{DoxyCode}
\Hypertarget{group___b_m280__internal__functions_gadeb93dfa0ac36dcaff5d4e0f7f2e420e}\index{Internal functions@{Internal functions}!bm280\_convert\_measurements@{bm280\_convert\_measurements}}
\index{bm280\_convert\_measurements@{bm280\_convert\_measurements}!Internal functions@{Internal functions}}
\doxysubsubsubsection{\texorpdfstring{bm280\_convert\_measurements()}{bm280\_convert\_measurements()}}
{\footnotesize\ttfamily \label{group___b_m280__internal__functions_gadeb93dfa0ac36dcaff5d4e0f7f2e420e} 
int bm280\+\_\+convert\+\_\+measurements (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}}}]{handle}{}\end{DoxyParamCaption})}



Converts all raw sensor values (temperature, pressure, humidity). 


\begin{DoxyParams}{Parameters}
{\em handle} & BM280 device handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if all conversions succeed, otherwise 1. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{bm280__internal_8c_source_l00193}{193}} of file \mbox{\hyperlink{bm280__internal_8c_source}{bm280\+\_\+internal.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00194\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___b_m280__internal__functions_ga1276ea9385d464602ff47ba39dfd22b5}{bm280\_convert\_temperature}}(handle)\ !=\ 0)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__bm280__debug_ga632860a48f772ec4ca1d6ccbea606b33}{BM280\_LOG}}(\textcolor{stringliteral}{"{}Unable\ to\ convert\ temperature\(\backslash\)n"{}});}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00198\ \ \ \ \ \}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___b_m280__internal__functions_ga46c1804fc5ac171edc97640e2e93f082}{bm280\_convert\_pressure}}(handle)\ !=\ 0)\ \{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__bm280__debug_ga632860a48f772ec4ca1d6ccbea606b33}{BM280\_LOG}}(\textcolor{stringliteral}{"{}Unable\ to\ convert\ pressure\(\backslash\)n"{}});}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00203\ \ \ \ \ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group___b_m280__internal__functions_gad7a917b102abbac1ece5f77e0e1f078b}{bm280\_convert\_humidity}}(handle)\ !=\ 0)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__bm280__debug_ga632860a48f772ec4ca1d6ccbea606b33}{BM280\_LOG}}(\textcolor{stringliteral}{"{}Unable\ to\ convert\ humidity\(\backslash\)n"{}});}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00208\ \ \ \ \ \}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00211\ \}}

\end{DoxyCode}
\Hypertarget{group___b_m280__internal__functions_ga46c1804fc5ac171edc97640e2e93f082}\index{Internal functions@{Internal functions}!bm280\_convert\_pressure@{bm280\_convert\_pressure}}
\index{bm280\_convert\_pressure@{bm280\_convert\_pressure}!Internal functions@{Internal functions}}
\doxysubsubsubsection{\texorpdfstring{bm280\_convert\_pressure()}{bm280\_convert\_pressure()}}
{\footnotesize\ttfamily \label{group___b_m280__internal__functions_ga46c1804fc5ac171edc97640e2e93f082} 
int bm280\+\_\+convert\+\_\+pressure (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}}}]{handle}{}\end{DoxyParamCaption})}



Converts the raw pressure value to readable format using calibration parameters. 

Function provided by Bosch Sensortec in documentation for converting sensorvalues \href{https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme280-ds002.pdf}{\texttt{https\+://www.\+bosch-\/sensortec.\+com/media/boschsensortec/downloads/datasheets/bst-\/bme280-\/ds002.\+pdf}}


\begin{DoxyParams}{Parameters}
{\em handle} & BM280 device handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 if division by zero occurs. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{bm280__internal_8c_source_l00115}{115}} of file \mbox{\hyperlink{bm280__internal_8c_source}{bm280\+\_\+internal.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00116\ \{}
\DoxyCodeLine{00117\ \ \ \ \ int64\_t\ var1,\ var2,\ temp\_pressure;}
\DoxyCodeLine{00118\ \ \ \ \ }
\DoxyCodeLine{00119\ \ \ \ \ var1\ =\ ((int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_adc1997c5d1e8baf2e65f34c37d1e67b6}{t\_fine}})\ -\/\ 128000;}
\DoxyCodeLine{00120\ \ \ \ \ var2\ =\ var1\ *\ var1\ *\ (int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a35dd3db0eb9c14cdfbaf3aa16177df87}{dig\_p6}};}
\DoxyCodeLine{00121\ \ \ \ \ var2\ =\ var2\ +\ ((var1*(int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_ac649068cf157f9c44975286e79e6eead}{dig\_p5}})\ <<\ 17);}
\DoxyCodeLine{00122\ \ \ \ \ var2\ =\ var2\ +\ (((int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a96c06ac1add12c637c95df7441a072d2}{dig\_p4}})\ <<\ 35);}
\DoxyCodeLine{00123\ \ \ \ \ var1\ =\ ((var1\ *\ var1\ *\ (int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a170ac1887fab11d43b0a4bfb2b9a13d3}{dig\_p3}})\ >>\ 8)\ +\ ((var1\ *\ (int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_a5da51319960f215e4fa84f4439d07f5d}{dig\_p2}})\ <<\ 12);}
\DoxyCodeLine{00124\ \ \ \ \ var1\ =\ (((((int64\_t)1)\ <<\ 47)\ +\ var1))\ *\ ((int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_abc8a4b73df0d8389d9a5825f21292377}{dig\_p1}})\ >>\ 33;}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{if}\ (var1\ ==\ 0)\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__bm280__debug_ga632860a48f772ec4ca1d6ccbea606b33}{BM280\_LOG}}(\textcolor{stringliteral}{"{}Failed\ to\ convert\ pressure.\ Division\ by\ 0.\(\backslash\)n"{}});}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00129\ \ \ \ \ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ temp\_pressure\ =\ 1048576\ -\/\ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab73579b872ef8b45b40fffcc3ef97e4d}{press\_raw}};}
\DoxyCodeLine{00132\ \ \ \ \ temp\_pressure\ =\ (((temp\_pressure\ <<\ 31)\ -\/\ var2)\ *\ 3125)\ /\ var1;}
\DoxyCodeLine{00133\ \ \ \ \ var1\ =\ (((int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_af95c62e8e4d9f8f94749a78881dc3a7a}{dig\_p9}})\ *\ (temp\_pressure\ >>\ 13)\ *\ (temp\_pressure\ >>\ 13)\ >>\ 25);}
\DoxyCodeLine{00134\ \ \ \ \ var2\ =\ (((int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_aacf4b738b3b433b5d4ebdc68637366a5}{dig\_p8}})\ *\ temp\_pressure)\ >>\ 19;}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ temp\_pressure\ =\ ((temp\_pressure\ +\ var1\ +\ var2)\ >>\ 8)\ +\ (((int64\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_aa8f49a31e8f3ac08a793f77048fa6a8b}{press}}.\mbox{\hyperlink{structbm280__handle__internal_ad05ca9306f41d05781fc7e1536035bd6}{dig\_p7}})\ <<\ 4);}
\DoxyCodeLine{00137\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ada50c73da6f35f780ed1e178c03c099e}{pressure}}\ =\ (int32\_t)temp\_pressure;}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00140\ \}}

\end{DoxyCode}
\Hypertarget{group___b_m280__internal__functions_ga1276ea9385d464602ff47ba39dfd22b5}\index{Internal functions@{Internal functions}!bm280\_convert\_temperature@{bm280\_convert\_temperature}}
\index{bm280\_convert\_temperature@{bm280\_convert\_temperature}!Internal functions@{Internal functions}}
\doxysubsubsubsection{\texorpdfstring{bm280\_convert\_temperature()}{bm280\_convert\_temperature()}}
{\footnotesize\ttfamily \label{group___b_m280__internal__functions_ga1276ea9385d464602ff47ba39dfd22b5} 
int bm280\+\_\+convert\+\_\+temperature (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}}}]{handle}{}\end{DoxyParamCaption})}



Converts the raw temperature value to readable format and calculates t\+\_\+fine. 

Function provided by Bosch Sensortec in documentation for converting sensorvalues \href{https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme280-ds002.pdf}{\texttt{https\+://www.\+bosch-\/sensortec.\+com/media/boschsensortec/downloads/datasheets/bst-\/bme280-\/ds002.\+pdf}}


\begin{DoxyParams}{Parameters}
{\em handle} & BM280 device handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{bm280__internal_8c_source_l00150}{150}} of file \mbox{\hyperlink{bm280__internal_8c_source}{bm280\+\_\+internal.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00151\ \{}
\DoxyCodeLine{00152\ \ \ \ \ int32\_t\ var1,\ var2;}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ var1\ =\ ((((handle-\/>\mbox{\hyperlink{structbm280__handle__internal_abe2c85a88095c16a031074703073acc2}{temp\_raw}}\ >>\ 3)\ -\/\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_a18bbe2d56938e772556029671101cce9}{dig\_t1}}\ <<\ 1)))\ *\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_a3127af8c692c7cdcca6c1122c0e9c9b3}{dig\_t2}}))\ >>\ 11;}
\DoxyCodeLine{00155\ \ \ \ \ var2\ =\ (((((handle-\/>\mbox{\hyperlink{structbm280__handle__internal_abe2c85a88095c16a031074703073acc2}{temp\_raw}}\ >>\ 4)\ -\/\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_a18bbe2d56938e772556029671101cce9}{dig\_t1}}))\ *\ ((handle-\/>\mbox{\hyperlink{structbm280__handle__internal_abe2c85a88095c16a031074703073acc2}{temp\_raw}}\ >>\ 4)\ -\/\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_a18bbe2d56938e772556029671101cce9}{dig\_t1}})))\ >>\ 12)\ *\ ((int32\_t)handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ab1e3d3e0661062061675b3fce847b9dc}{cal\_val}}.\mbox{\hyperlink{structbm280__handle__internal_a28987b53e93f4920b9b13259bc6c0146}{temp}}.\mbox{\hyperlink{structbm280__handle__internal_af5e669080a46ca1971d8cc75d45291cc}{dig\_t3}}))\ >>\ 14;}
\DoxyCodeLine{00156\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_adc1997c5d1e8baf2e65f34c37d1e67b6}{t\_fine}}\ =\ var1\ +\ var2;}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a8fbd26e965f3f364b7a36554f1c608ab}{temperature}}\ =\ (handle-\/>\mbox{\hyperlink{structbm280__handle__internal_adc1997c5d1e8baf2e65f34c37d1e67b6}{t\_fine}}\ *\ 5\ +\ 128)\ >>\ 8;}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00161\ \}}

\end{DoxyCode}
\Hypertarget{group___b_m280__internal__functions_ga5dffb47e87c28836b09d9e2888238311}\index{Internal functions@{Internal functions}!bm280\_parse\_json@{bm280\_parse\_json}}
\index{bm280\_parse\_json@{bm280\_parse\_json}!Internal functions@{Internal functions}}
\doxysubsubsubsection{\texorpdfstring{bm280\_parse\_json()}{bm280\_parse\_json()}}
{\footnotesize\ttfamily \label{group___b_m280__internal__functions_ga5dffb47e87c28836b09d9e2888238311} 
int bm280\+\_\+parse\+\_\+json (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__bm280__typedefs_ga69dc55e2abccb74a10cc1957529aad92}{bm280\+\_\+handle\+\_\+t}}}]{handle}{}\end{DoxyParamCaption})}



Parses the current sensor readings into a JSON-\/formatted string. 


\begin{DoxyParams}{Parameters}
{\em handle} & Handle to the BM280 device. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0. Updates internal {\ttfamily json\+\_\+string} in handle. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{bm280__internal_8c_source_l00017}{17}} of file \mbox{\hyperlink{bm280__internal_8c_source}{bm280\+\_\+internal.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ad6a29c62994b62d05edb0b57579879d0}{json\_parsed}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ keys[\mbox{\hyperlink{group___b_m280__json__defines_ga485d730aa286cd966070ea243c0fe00a}{BM280\_JSON\_KEYS\_LEN}}]\ =\ \mbox{\hyperlink{group___b_m280__json__defines_ga37df21bb765ab28ea7dea1dbabcbe9fd}{BM280\_JSON\_KEYS}};}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{char}\ buf[\mbox{\hyperlink{group___b_m280__json__defines_ga09ee49cc72dce05486509891e8fa11f1}{BM280\_JSON\_BUF\_SIZE}}];}
\DoxyCodeLine{00022\ \ \ \ \ }
\DoxyCodeLine{00023\ \ \ \ \ snprintf(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}},\ \mbox{\hyperlink{group___b_m280__json__defines_ga70e3b1a419ef7723396aafa7df11de70}{BM280\_JSON\_STR\_MAX\_LEN}},\ \textcolor{stringliteral}{"{}\{"{}});}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{group___b_m280__json__defines_ga07a32e7ac666138b61a3b6343db266c2}{BM280\_JSON\_KEYS\_SIZE}};\ i++)\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(keys[i],\ \mbox{\hyperlink{group___b_m280__json__defines_ga54e6046493c0a4c9ab74a28f2f49fc30}{BM280\_JSON\_TEMP\_KEY}})\ ==\ 0)\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ snprintf(buf,\ \textcolor{keyword}{sizeof}(buf),\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\%s\(\backslash\)"{}:\%u"{}},\ keys[i],\ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a8fbd26e965f3f364b7a36554f1c608ab}{temperature}});}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(strcmp(keys[i],\ \mbox{\hyperlink{group___b_m280__json__defines_ga4a20b44857af6a8d90b3158d4a01f7ae}{BM280\_JSON\_PRESS\_KEY}})\ ==\ 0)\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ snprintf(buf,\ \textcolor{keyword}{sizeof}(buf),\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\%s\(\backslash\)"{}:\%d"{}},\ keys[i],\ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_ada50c73da6f35f780ed1e178c03c099e}{pressure}});}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(strcmp(keys[i],\ \mbox{\hyperlink{group___b_m280__json__defines_ga13a8336857f21a336f7a9202173cfe38}{BM280\_JSON\_HUM\_KEY}})\ ==\ 0)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ snprintf(buf,\ \textcolor{keyword}{sizeof}(buf),\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\%s\(\backslash\)"{}:\%d"{}},\ keys[i],\ handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a6504ed55a0169c9e231169e9601b642a}{humidity}});}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ strncat(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}},\ buf,\ \mbox{\hyperlink{group___b_m280__json__defines_ga70e3b1a419ef7723396aafa7df11de70}{BM280\_JSON\_STR\_MAX\_LEN}}\ -\/\ strlen(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}})\ -\/\ 1);}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ <\ \mbox{\hyperlink{group___b_m280__json__defines_ga07a32e7ac666138b61a3b6343db266c2}{BM280\_JSON\_KEYS\_SIZE}}\ -\/\ 1)\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ strncat(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}},\ \textcolor{stringliteral}{"{},"{}},\ \mbox{\hyperlink{group___b_m280__json__defines_ga70e3b1a419ef7723396aafa7df11de70}{BM280\_JSON\_STR\_MAX\_LEN}}\ -\/\ strlen(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}})\ -\/\ 1);}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00041\ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ strncat(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}},\ \textcolor{stringliteral}{"{}\}"{}},\ \mbox{\hyperlink{group___b_m280__json__defines_ga70e3b1a419ef7723396aafa7df11de70}{BM280\_JSON\_STR\_MAX\_LEN}}\ -\/\ strlen(handle-\/>\mbox{\hyperlink{structbm280__handle__internal_a9f041dc513db8ccddc3893ac2b898af9}{json\_string}})\ -\/\ 1);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00046\ \}}

\end{DoxyCode}
